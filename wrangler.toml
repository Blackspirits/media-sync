name = "media-sync"
main = "worker/worker.js"
compatibility_date = "2024-01-01"

# KV Namespace binding
# Cria o KV em: Workers & Pages → KV → Create namespace
# Depois substitui <KV_NAMESPACE_ID> pelo ID real
[[kv_namespaces]]
binding = "MEDIA"
id = "7500c3787e0a4b68822c5e2b7851543e"

# Variáveis de ambiente opcionais (sem segredos — esses vão via dashboard ou wrangler secret)
# Descomenta e ajusta conforme necessário:

# [vars]
# ALLOWED_ORIGIN = "https://www.filmin.pt"   # ou "*" para qualquer origem
# ALLOWED_PREFIXES = "filmin_,filmtwist_,kocowa_,viki_,netflix_,disney_,sky_,max_,appletv_,prime_,opto_,rtp_,tvi_"
# MAX_BODY = "10485760"   # 10 MB
# MAX_ITEMS = "100000"

# Segredos (nunca no ficheiro — usa o comando abaixo ou o dashboard):
#   wrangler secret put API_KEY
#   wrangler secret put READ_KEY   (opcional — só se quiseres chave de leitura separada)
